<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fetch</title>

</head>

<body>
    <div id="postList">

    </div>

    <form action="" id="post-form" >
        <input type="text" name="" id="title">
        <textarea name="" id="body"></textarea>
        <input type="submit" value="Save" onclick="savePost(event)">
    </form>
    <script>
        const getPosts = async () => {
            let data = null;
            const url = 'https://jsonplaceholder.typicode.com/posts';
            const option = {};
            try {
                req = await fetch(url, option)
                const response = await req.json();
                postLists(response)
            } catch (err) {
                console.log(err);
            } return data;
        };

        const postLists = (posts) => {
            posts.forEach((post) => {

                document.getElementById('postList')
                    .appendChild(createPostTag(post))
            })
        };

        const createPostTag = (post) => {
            const pTag = document.createElement('p')
            pTag.innerText = post.body
            const hTag = document.createElement('h2')
            hTag.innerText = post.title
            const postTag = document.createElement('div')
            postTag.setAttribute("id", `post-${post.id}`)
            postTag.appendChild(hTag)
            postTag.appendChild(pTag)
            return postTag

        };

        const savePost = (e)=>{
            e.preventDefault();
            const fromElement = document.getElementById('post-form')  
            const form = new FormData(fromElement)
            const post = {
                userId:100,
                id:101,
                title: form.get('titlel'),
                body: form.get('body')
            }
            const req = await fetch(url)
        }


        // getPosts()


    </script>
</body>

</html>